<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NovaFX Wallet</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-sm text-gray-900 pt-20 pb-28">

  <!-- Top Wallet Summary -->
  <div class="fixed top-0 left-0 right-0 bg-white shadow px-4 py-3 z-50">
    <div class="flex items-center justify-between">
      <div class="flex items-center space-x-2">
        <span class="bg-blue-600 text-white px-2 py-1 rounded text-xs">Demo</span>
        <span id="walletBalance" class="text-xl font-semibold text-black">KSh0.00</span>
      </div>
      <button class="text-green-600 border border-green-600 px-3 py-1 rounded text-xs">Switch to Live</button>
    </div>
  </div>

  <!-- Account Info Box -->
  <div class="bg-white rounded-xl mx-4 mt-24 p-4 shadow space-y-3">
    <div class="flex justify-between">
      <span>Trading Account</span>
      <span id="accountNumber" class="font-semibold">57269468</span>
    </div>
    <div class="flex justify-between">
      <span>Account Nickname</span>
      <span class="italic text-gray-500">N/A</span>
    </div>
    <div class="flex justify-between">
      <span>Balance</span>
      <span id="walletBalanceDisplay" class="font-bold text-black">KSh0.00</span>
    </div>
    <div class="flex justify-between">
      <span>Profit & Loss (P&L)</span>
      <span id="walletPL" class="text-green-600">KSh0.00</span>
    </div>
    <div class="flex justify-between">
      <span>Remaining Margin</span>
      <span id="remainingMargin" class="text-gray-800">KSh0.00</span>
    </div>
    <div class="flex justify-between">
      <span>Margin Used</span>
      <span id="marginUsed" class="text-gray-800">KSh0.00</span>
    </div>
  </div>

  <!-- Action Buttons -->
  <div class="flex justify-around mt-6 px-4">
    <button class="bg-green-600 text-white px-6 py-2 rounded-full">Fund</button>
    <button class="border border-red-600 text-red-600 px-6 py-2 rounded-full">My Wallet</button>
  </div>

  <!-- Bottom Navigation -->
  <div class="fixed bottom-0 left-0 right-0 z-50 bg-white border-t rounded-t-2xl flex justify-around py-3">
    <button class="flex flex-col items-center text-black" onclick="location.href='index.html'">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="black" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
      <span>Home</span>
    </button>
    <button class="flex flex-col items-center text-black">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="black" stroke-width="2"><path d="M12 20v-6M6 20V10M18 20V4"/></svg>
      <span>Trades</span>
    </button>
    <button class="flex flex-col items-center text-green-600">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="green" stroke-width="2"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="M7 15h0M2 9.5h20"/></svg>
      <span>Wallet</span>
    </button>
    <button class="flex flex-col items-center text-black">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="black" stroke-width="2"><circle cx="12" cy="10" r="3"/><circle cx="12" cy="12" r="10"/></svg>
      <span>User</span>
    </button>
  </div>

  <!-- JS Logic -->
  <script>
    // Simulate loading saved account data from localStorage
    const balance = localStorage.getItem("balance") || 5000;
    const margin = localStorage.getItem("margin") || 1200;
    const equity = localStorage.getItem("equity") || 5100;
    const freeMargin = localStorage.getItem("freeMargin") || (equity - margin);
    const pnl = equity - balance;

    // Convert to KSh and format
    const format = (val) => "KSh" + parseFloat(val).toLocaleString("en-KE", { minimumFractionDigits: 2 });

    document.getElementById("walletBalance").textContent = format(balance);
    document.getElementById("walletBalanceDisplay").textContent = format(balance);
    document.getElementById("walletPL").textContent = format(pnl);
    document.getElementById("remainingMargin").textContent = format(freeMargin);
    document.getElementById("marginUsed").textContent = format(margin);
  </script>

</body>
</html>
