<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HFM Markets UI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body class="bg-gray-100 text-black">
    <!-- Header Bar -->
    <div class="flex justify-between items-center px-4 py-2 bg-white shadow">
      <div class="flex items-center gap-2">
        <img src="https://i.imgur.com/NdH4uYp.png" alt="HFM" class="h-6" />
        <span class="bg-blue-500 text-white text-xs px-2 rounded">Demo</span>
        <span class="font-semibold text-sm">KSh10,000,000.00</span>
      </div>
      <div class="flex items-center gap-2">
        <div class="relative">
          <div class="absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full"></div>
          <svg class="w-6 h-6 text-black" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 10-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9">
            </path>
          </svg>
        </div>
        <div class="relative">
          <div class="text-xs text-white bg-red-600 rounded-full w-4 h-4 flex items-center justify-center absolute top-0 right-0">1</div>
        </div>
      </div>
    </div>

    <!-- Search and Tabs -->
    <div class="p-4 bg-white">
      <input id="searchInput" type="text" placeholder="Search All Symbols" class="w-full px-4 py-2 rounded bg-gray-100 border border-gray-300" oninput="filterSymbols()" />
      <div class="flex space-x-4 mt-4 overflow-x-auto">
        <button onclick="loadPage('forex')" id="tab-forex" class="text-red-600 font-semibold border-b-2 border-red-600">Forex</button>
        <button onclick="loadPage('commodities')" id="tab-commodities" class="text-gray-600">Commodities</button>
        <button onclick="loadPage('indices')" id="tab-indices" class="text-gray-600">Indices</button>
        <button onclick="loadPage('stocks')" id="tab-stocks" class="text-gray-600">Stocks</button>
      </div>
      <div class="flex space-x-2 mt-4 overflow-x-auto">
        <button class="bg-gray-200 px-3 py-1 rounded">ðŸ‡ºðŸ‡¸ USD</button>
        <button class="bg-gray-200 px-3 py-1 rounded">ðŸ‡¬ðŸ‡§ GBP</button>
        <button class="bg-gray-200 px-3 py-1 rounded">ðŸ‡ªðŸ‡º EUR</button>
        <button class="bg-gray-200 px-3 py-1 rounded">ðŸ‡¯ðŸ‡µ JPY</button>
        <button class="bg-gray-200 px-3 py-1 rounded">ðŸ‡¨ðŸ‡¦ CAD</button>
      </div>
    </div>

    <!-- Dynamic Chart Area -->
    <div id="contentArea" class="p-4">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4" id="marketList">
        <div class="bg-white rounded shadow p-2">
          <canvas id="chart1" class="h-32"></canvas>
          <p class="text-center font-medium mt-2">EURUSD</p>
        </div>
        <div class="bg-white rounded shadow p-2">
          <canvas id="chart2" class="h-32"></canvas>
          <p class="text-center font-medium mt-2">GBPUSD</p>
        </div>
        <div class="bg-white rounded shadow p-2">
          <canvas id="chart3" class="h-32"></canvas>
          <p class="text-center font-medium mt-2">USDJPY</p>
        </div>
        <div class="bg-white rounded shadow p-2">
          <canvas id="chart4" class="h-32"></canvas>
          <p class="text-center font-medium mt-2">USDCAD</p>
        </div>
      </div>
    </div>

    <script>
      const chartIds = ["chart1", "chart2", "chart3", "chart4"];
      const charts = [];

      function generateData() {
        return Array.from({ length: 20 }, () => Math.random() * 100);
      }

      chartIds.forEach((id) => {
        const ctx = document.getElementById(id).getContext("2d");
        const chart = new Chart(ctx, {
          type: 'line',
          data: {
            labels: Array.from({ length: 20 }, (_, i) => i),
            datasets: [{
              label: 'Price',
              data: generateData(),
              borderColor: 'green',
              tension: 0.3,
              fill: false
            }]
          },
          options: {
            animation: false,
            plugins: { legend: { display: false } },
            scales: { x: { display: false }, y: { display: false } },
            responsive: true,
            maintainAspectRatio: false,
          }
        });
        charts.push(chart);
      });

      setInterval(() => {
        charts.forEach(chart => {
          chart.data.datasets[0].data.shift();
          chart.data.datasets[0].data.push(Math.random() * 100);
          chart.update();
        });
      }, 1000);

      function loadPage(page) {
        const tabs = ["forex", "commodities", "indices", "stocks"];
        tabs.forEach(id => {
          document.getElementById("tab-" + id).classList.remove("text-red-600", "font-semibold", "border-b-2", "border-red-600");
          document.getElementById("tab-" + id).classList.add("text-gray-600");
        });
        document.getElementById("tab-" + page).classList.add("text-red-600", "font-semibold", "border-b-2", "border-red-600");
        fetch(page + ".html")
          .then(res => res.text())
          .then(html => {
            document.getElementById("contentArea").innerHTML = html;
          });
      }

      function filterSymbols() {
        const input = document.getElementById("searchInput").value.toLowerCase();
        document.querySelectorAll("#marketList > div").forEach(card => {
          const text = card.innerText.toLowerCase();
          card.style.display = text.includes(input) ? "block" : "none";
        });
      }
    </script>
  </body>
</html>
