<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Bet Multiplier</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-900 text-white min-h-screen flex flex-col items-center justify-center">
    <div class="bg-gray-800 p-6 rounded-xl shadow-xl w-80 text-center">
        <h2 class="text-xl font-bold mb-4">Live Crash Bet</h2>

        <!-- Display multiplier or cash out amount -->
        <div class="text-4xl font-mono mb-2">
            <span id="liveProfit">1.00x</span>
        </div>

        <!-- Balance Display -->
        <div class="mb-4">
            <span class="text-green-400">Balance: </span>
            <span id="balanceAmount" class="text-green-400">5000.00 KES</span>
        </div>

        <!-- Bet Button -->
        <button id="betBtn" onclick="handleBet()" class="bg-green-500 text-white px-4 py-2 rounded w-full">BET</button>
    </div>

    <script>
        let balance = 5000;
        let betAmount = 100;
        let multiplier = 1.00;
        let interval;
        let isBetActive = false;

        const profitDisplay = document.getElementById("liveProfit");
        const betBtn = document.getElementById("betBtn");
        const balanceDisplay = document.getElementById("balanceAmount");

        function updateMultiplier() {
            multiplier += 0.01;
            if (isBetActive) {
                const profit = (betAmount * multiplier).toFixed(2);
                profitDisplay.textContent = `${profit} KES`;
            } else {
                profitDisplay.textContent = `${multiplier.toFixed(2)}x`;
            }

            // Simulate random crash
            if (Math.random() < 0.0015) crashGame();
        }

        function crashGame() {
            clearInterval(interval);
            if (isBetActive) {
                alert("You lost the bet!");
                isBetActive = false;
                resetButton();
            }
            setTimeout(startMultiplier, 2000);
        }

        function startMultiplier() {
            multiplier = 1.00;
            profitDisplay.textContent = "1.00x";
            interval = setInterval(updateMultiplier, 60);
        }

        function handleBet() {
            if (!isBetActive) {
                if (balance < betAmount) {
                    alert("Insufficient balance!");
                    return;
                }
                balance -= betAmount;
                balanceDisplay.textContent = `${balance.toFixed(2)} KES`;

                isBetActive = true;
                betBtn.textContent = "CASH OUT";
                betBtn.classList.remove("bg-green-500");
                betBtn.classList.add("bg-blue-500");

            } else {
                const winAmount = betAmount * multiplier;
                balance += winAmount;
                balanceDisplay.textContent = `${balance.toFixed(2)} KES`;

                profitDisplay.textContent = `${winAmount.toFixed(2)} KES`;

                isBetActive = false;
                resetButton();
            }
        }

        function resetButton() {
            betBtn.textContent = "BET";
            betBtn.classList.remove("bg-blue-500");
            betBtn.classList.add("bg-green-500");
        }

        startMultiplier();
    </script>
</body>

</html>
